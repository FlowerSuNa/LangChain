# 고급 추론 프롬프팅 기법

- AI 언어 모델이 복잡한 문제를 더 정확하고 신뢰성 있게 해결하려면, 추론을 유도하는 프롬프팅 전략이 필요함
- 특히, 수학 계산, 논리 추론, 코드 생성, 복잡한 의사결정과 같은 과제에서는 추론 능력이 필요하며, 모델의 사고 흐름을 명시하거나 구조화하는 방식으로 프롬프팅을 설계할 수 있음

## CoT (Chain Of Thought)

- [논문](https://arxiv.org/abs/2201.11903)
- AI 모델이 복잡한 문제를 해결할 때 중간 사고 과정을 명시적으로 기술하도록 유도하는 프롬프팅 기법임
- 모델이 추론의 전 과정을 단계적으로 서술하게 하여, 문제 해결의 투명성과 정확성을 높일 수 있음

**특징 및 효과**
- 수학 문제 풀이, 논리 기반 질의, 복잡한 의사결정 문제 등에 효과적임
- 모델이 중간 단계에서의 오류를 스스로 인식하고 수정하는 데 도움을 줌
- 정답만 제시하는 방식보다 **사고 흐름이 명확하게 드러나므로 신뢰도와 설명 가능성(explainability)**이 높아짐

**단점**
- 출력이 길어지며, 토큰 수가 많아져 응답 시간 및 계산 비용이 증가할 수 있음

```example
다음 문제를 논리적 단계에 따라 해결하시오:
문제: {question}

해결 과정:
1단계: 문제 이해하기
- 주어진 정보 파악
- 구해야 할 것 정리

2단계: 해결 방법 계획
- 사용할 수 있는 전략 검토
- 최적의 방법 선택

3단계: 계획 실행
- 선택한 방법 적용
- 중간 결과 확인

4단계: 검토
- 답안 확인
- 다른 방법 가능성 검토

답안:
```

## Self-consistency

- [논문](https://arxiv.org/abs/2203.11171)
- 모델이 하나의 문제에 대해 다양한 사고 경로를 따라 여러 번 추론하도록 유도하는 기법임
- 각 경로에서 도출된 결과 간 **일관성(consistency)**을 비교하여 정확한 답변을 선택함

**특징 및 효과**
- 수학 문제나 논리 추론에서 효과적임
- 다양한 접근을 통해 얻은 결과가 일치하는지 확인함으로써 오류 가능성을 낮출 수 있음
- CoT와 결합 시 더욱 강력한 성능 발휘함

**단점**
- 여러 번 추론이 필요하므로 시간과 연산 자원이 더 소요됨

```example
다음 문제를 세 가지 다른 방법으로 해결하시오:

문제: {question}

세 가지 풀이 방법:
1) 직접 계산 방법:
   - 주어진 숫자를 직접 계산

2) 비율 활용 방법:
   - 전체에 대한 비율로 계산

3) 단계별 분해 방법:
   - 문제를 작은 부분으로 나누어 계산

각 방법의 답안을 제시하고, 결과가 일치하는지 확인하시오.

답안:
```

## PAL (Program-Aided Language)

- [논문](https://arxiv.org/pdf/2211.10435)
- 자연어 문제를 프로그래밍적 사고방식으로 구조화하여 해결하도록 유도하는 기법임
- 문제를 코드 또는 의사코드 형태로 변환하여 처리함

**특징 및 효과**
- 수학 계산, 데이터 처리, 알고리즘 문제 등에서 뛰어난 성능 보임
- 논리성과 정확성이 높은 코드 기반 접근으로 모호성을 줄일 수 있음
- 실제 실행 가능한 코드 생성이 가능하므로 결과 검증, 수정, 최적화에 용이함

```example
다음 문제를 Python 프로그래밍 방식으로 해결하시오:

문제: {question}

# 문제 해결을 위한 Python 스타일 의사코드:
def solve_problem():
    # 1. 변수 정의
    # - 주어진 값들을 변수로 저장
    
    # 2. 계산 과정
    # - 필요한 계산을 단계별로 수행
    
    # 3. 결과 반환
    # - 최종 결과 계산 및 반환
    
답안:
```

## Reflexion

- [논문](https://arxiv.org/abs/2303.11366)
- AI가 자신의 이전 응답을 검토하고 평가한 후 개선하도록 유도하는 메타인지적 기법임
- **자기 피드백(self-critique)**을 통해 답변의 완성도를 높이는 방식임

**특징 및 효과**
- 복잡한 분석, 창의적 작업, 글쓰기, 코드 리뷰 등에 효과적임
- 반복적인 자기 점검을 통해 점진적으로 더 나은 결과물을 생성할 수 있음

**단점**
- 반복적 추론 및 수정 과정이 필요해 연산 시간과 비용이 증가할 수 있음

```example
다음 문제에 대해 단계적으로 해결하여 초기 답안을 작성하고, 자체 평가 후 개선하시오:

문제: {question}

1단계: 초기 답안
---
[여기에 첫 번째 답안 작성]

2단계: 자체 평가
---
- 정확성 검토
- 논리적 오류 확인
- 설명의 명확성 평가
- 개선이 필요한 부분 식별

3단계: 개선된 답안
---
[평가를 바탕으로 개선된 답안 작성]

답안:
```
